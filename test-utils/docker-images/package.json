{
  "name": "@platforma-open/milaboratories.software-test-utils.docker-images",
  "version": "1.1.0",
  "description": "Collection of special docker images for testing purposes",
  "scripts": {
    "cleanup": "rm -rf ./pkg-*.tgz && rm -rf ./build/ && rm -rf ./dist/",
    "build": "../../scripts/build.sh './true.go' 'true' && pl-pkg build --all-platforms --docker-build",
    "prepublishOnly": "pl-pkg prepublish"
  },
  "block-software": {
    "artifacts": {
      "true": {
        "registry": "platforma-open",
        "type": "binary",
        "roots": {
          "linux-x64": "./build/linux-x64/",
          "linux-aarch64": "./build/linux-aarch64/",
          "macosx-x64": "./build/macosx-x64/",
          "macosx-aarch64": "./build/macosx-aarch64/",
          "windows-x64": "./build/windows-x64/"
        }
      }
    },
    "entrypoints": {
      "docker-only": {
        "docker": {
          "artifact": {
            "type": "docker",
            "dockerfile": "Dockerfile-busybox",
            "context": "./src/"
          },
          "cmd": [
            "// this software has only docker distribution, no binary archive"
          ]
        }
      },
      "always-true-ep": {
        "binary": {
          "artifact": "true",
          "cmd": [
            "{pkg}/true"
          ]
        },
        "docker": {
          "artifact": {
            "type": "docker",
            "dockerfile": "Dockerfile-entrypoint",
            "context": "./src/"
          },
          "cmd": [
            "// entrypoint of the image is 'true', this should never fail"
          ]
        }
      },
      "always-true-cmd": {
        "binary": {
          "artifact": "true",
          "cmd": [
            "{pkg}/true"
          ]
        },
        "docker": {
          "artifact": {
            "type": "docker",
            "dockerfile": "Dockerfile-busybox",
            "context": "./src/"
          },
          "cmd": [
            "true"
          ]
        }
      }
    }
  },
  "devDependencies": {
    "@platforma-sdk/package-builder": "catalog:"
  },
  "keywords": [],
  "author": "",
  "files": [
    "dist/"
  ],
  "license": "UNLICENSED"
}
